{"version":3,"file":"ngx-paginate.js","sources":["ng://ngx-paginate/src/app/paginate.component.ts","ng://ngx-paginate/src/app/ngx-paginate.module.ts","ng://ngx-paginate/ngx-paginate.ts"],"sourcesContent":["import { Component, DoCheck, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\n\nexport class PageState {\n  currentPage: number;\n  pageSize: number;\n  totalItems?: number;\n  numberOfPages?: number;\n}\n\nexport class PaginateOptions {\n  spanPages?: number; //  number of how many pages additionally will be shown on left and right\n  firstPage?: boolean;\n  previousPage?: boolean;\n  nextPage?: boolean;\n  lastPage?: boolean;\n  pageSizes?: {\n    value: number,\n    display: string\n  }[];\n  titles?: {\n    firstPage?: string;\n    lastPage?: string;\n    previousPage?: string;\n    nextPage?: string;\n    pageSize?: string;\n  };\n}\n\nconst defaults: PaginateOptions = {\n  spanPages : 2,\n  previousPage: true,\n  nextPage: true,\n  firstPage: true,\n  lastPage: true,\n  titles: {\n    firstPage: 'First',\n    previousPage: 'Previous',\n    lastPage: 'Last',\n    nextPage: 'Next',\n    pageSize: 'Items per page'\n  },\n  pageSizes: [{\n    value: 5,\n    display: '5'\n  }, {\n    value: 10,\n    display: '10'\n  }, {\n    value: 15,\n    display: '15'\n  }]\n};\n\n@Component({\n  selector: 'ngx-paginate',\n  templateUrl: './paginate.component.html',\n  styleUrls: ['./paginate.component.scss']\n})\nexport class NgxPaginateComponent implements OnInit, DoCheck, OnChanges {\n\n  internalOptions: PaginateOptions;\n  @Input() options: PaginateOptions;\n\n  @Input() page: PageState;\n  @Output() pageChange = new EventEmitter<PageState>();\n  @Output() pageSizeChange = new EventEmitter<PageState>();\n\n  constructor() {\n    this.range = [];\n  }\n\n  range: number[];\n  ngOnInit() {\n    this.range = [];\n    this.setOptions();\n\n    this.calculateRange();\n    // this.pageChange.emit(this.page);\n  }\n\n  setOptions() {\n    if (!this.options) {\n      this.options = defaults;\n    }\n\n    if (!this.options.titles) {\n      this.options.titles = defaults.titles;\n    }\n    this.internalOptions = {\n      spanPages: this.options.spanPages || defaults.spanPages,\n      previousPage: this.options.previousPage !== undefined ? this.options.previousPage : defaults.previousPage,\n      nextPage: this.options.nextPage !== undefined ? this.options.nextPage : defaults.nextPage,\n      firstPage: this.options.firstPage !== undefined ? this.options.firstPage : defaults.firstPage,\n      lastPage: this.options.lastPage !== undefined ? this.options.lastPage : defaults.lastPage,\n      titles: {\n        firstPage: this.options.titles.firstPage || defaults.titles.firstPage,\n        previousPage: this.options.titles.previousPage || defaults.titles.previousPage,\n        lastPage: this.options.titles.lastPage || defaults.titles.lastPage,\n        nextPage: this.options.titles.nextPage || defaults.titles.nextPage,\n        pageSize: this.options.titles.pageSize || defaults.titles.pageSize\n      },\n      pageSizes: this.options.pageSizes || defaults.pageSizes.slice()\n    };\n  }\n\n  setPageSize(pageSize) {\n    this.page.pageSize = parseInt(pageSize, 10);\n    // this.pageChange.emit(this.page);\n    this.pageSizeChange.emit(this.page);\n  }\n\n  calculateRange() {\n    this.range.length = 0;\n    this.page.numberOfPages = Math.ceil(this.page.totalItems / this.page.pageSize);\n\n    if (this.page.numberOfPages === 0) {\n      this.page.numberOfPages = 1;\n    }\n    let upperSpan;\n\n    // if we can add span in front of current page, add it\n    if (this.page.currentPage - this.options.spanPages > 0) {\n      for (let i = this.page.currentPage - this.options.spanPages; i < this.page.currentPage; i++) {\n        this.range.push(i);\n      }\n      upperSpan = this.options.spanPages;\n    } else {\n      // if not, add as much as you can after it and adjust upper span\n      upperSpan = this.options.spanPages * 2;\n      for (let i = 1; i < this.page.currentPage; i++) {\n        this.range.push(i);\n        upperSpan--;\n      }\n    }\n\n    this.range.push(this.page.currentPage);\n\n    if (this.page.currentPage + upperSpan <= this.page.numberOfPages) {\n      for (let i = this.page.currentPage + 1; i <= this.page.currentPage + upperSpan; i++) {\n        this.range.push(i);\n      }\n    } else {\n      for (let i = this.page.currentPage + 1; i <= this.page.numberOfPages; i++) {\n        this.range.push(i);\n        upperSpan--;\n      }\n\n      if (upperSpan > 0 ) {\n        // something is still left, prepend it to array (only if bigger than 0)\n        while (upperSpan > 0 && this.range[0] - 1 > 0) {\n          this.range.unshift(this.range[0] - 1);\n          upperSpan--;\n        }\n\n      }\n    }\n\n  }\n\n  setPage(page: number) {\n    if (this.page.currentPage !== page) {\n      this.page.currentPage = page;\n      this.calculateRange();\n      this.pageChange.emit(this.page);\n    }\n  }\n\n  previousPage() {\n    if (this.page.currentPage > 1) {\n      this.setPage(this.page.currentPage - 1);\n    }\n  }\n\n  nextPage() {\n    if (this.page.currentPage < this.page.numberOfPages) {\n      this.setPage(this.page.currentPage + 1);\n    }\n  }\n\n  ngDoCheck(): void {\n    if (this.page) {\n      this.calculateRange();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['options'] && changes['options'].currentValue) {\n      this.setOptions();\n    }\n  }\n}\n","import { NgxPaginateComponent } from './paginate.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: [NgxPaginateComponent],\n  declarations: [NgxPaginateComponent]\n})\nexport class NgxPaginateModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["tslib_1.__decorate"],"mappings":"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"}