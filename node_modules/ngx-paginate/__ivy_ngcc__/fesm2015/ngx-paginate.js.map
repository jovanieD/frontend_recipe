{"version":3,"file":"ngx-paginate.js","sources":["ngx-paginate/src/app/paginate.component.ts","ngx-paginate/src/app/ngx-paginate.module.ts","ngx-paginate/ngx-paginate.ts"],"names":["tslib_1.__decorate"],"mappings":"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","sourcesContent":["import { Component, DoCheck, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\n\nexport class PageState {\n  currentPage: number;\n  pageSize: number;\n  totalItems?: number;\n  numberOfPages?: number;\n}\n\nexport class PaginateOptions {\n  spanPages?: number; //  number of how many pages additionally will be shown on left and right\n  firstPage?: boolean;\n  previousPage?: boolean;\n  nextPage?: boolean;\n  lastPage?: boolean;\n  pageSizes?: {\n    value: number,\n    display: string\n  }[];\n  titles?: {\n    firstPage?: string;\n    lastPage?: string;\n    previousPage?: string;\n    nextPage?: string;\n    pageSize?: string;\n  };\n}\n\nconst defaults: PaginateOptions = {\n  spanPages : 2,\n  previousPage: true,\n  nextPage: true,\n  firstPage: true,\n  lastPage: true,\n  titles: {\n    firstPage: 'First',\n    previousPage: 'Previous',\n    lastPage: 'Last',\n    nextPage: 'Next',\n    pageSize: 'Items per page'\n  },\n  pageSizes: [{\n    value: 5,\n    display: '5'\n  }, {\n    value: 10,\n    display: '10'\n  }, {\n    value: 15,\n    display: '15'\n  }]\n};\n\n@Component({\n  selector: 'ngx-paginate',\n  templateUrl: './paginate.component.html',\n  styleUrls: ['./paginate.component.scss']\n})\nexport class NgxPaginateComponent implements OnInit, DoCheck, OnChanges {\n\n  internalOptions: PaginateOptions;\n  @Input() options: PaginateOptions;\n\n  @Input() page: PageState;\n  @Output() pageChange = new EventEmitter<PageState>();\n  @Output() pageSizeChange = new EventEmitter<PageState>();\n\n  constructor() {\n    this.range = [];\n  }\n\n  range: number[];\n  ngOnInit() {\n    this.range = [];\n    this.setOptions();\n\n    this.calculateRange();\n    // this.pageChange.emit(this.page);\n  }\n\n  setOptions() {\n    if (!this.options) {\n      this.options = defaults;\n    }\n\n    if (!this.options.titles) {\n      this.options.titles = defaults.titles;\n    }\n    this.internalOptions = {\n      spanPages: this.options.spanPages || defaults.spanPages,\n      previousPage: this.options.previousPage !== undefined ? this.options.previousPage : defaults.previousPage,\n      nextPage: this.options.nextPage !== undefined ? this.options.nextPage : defaults.nextPage,\n      firstPage: this.options.firstPage !== undefined ? this.options.firstPage : defaults.firstPage,\n      lastPage: this.options.lastPage !== undefined ? this.options.lastPage : defaults.lastPage,\n      titles: {\n        firstPage: this.options.titles.firstPage || defaults.titles.firstPage,\n        previousPage: this.options.titles.previousPage || defaults.titles.previousPage,\n        lastPage: this.options.titles.lastPage || defaults.titles.lastPage,\n        nextPage: this.options.titles.nextPage || defaults.titles.nextPage,\n        pageSize: this.options.titles.pageSize || defaults.titles.pageSize\n      },\n      pageSizes: this.options.pageSizes || defaults.pageSizes.slice()\n    };\n  }\n\n  setPageSize(pageSize) {\n    this.page.pageSize = parseInt(pageSize, 10);\n    // this.pageChange.emit(this.page);\n    this.pageSizeChange.emit(this.page);\n  }\n\n  calculateRange() {\n    this.range.length = 0;\n    this.page.numberOfPages = Math.ceil(this.page.totalItems / this.page.pageSize);\n\n    if (this.page.numberOfPages === 0) {\n      this.page.numberOfPages = 1;\n    }\n    let upperSpan;\n\n    // if we can add span in front of current page, add it\n    if (this.page.currentPage - this.options.spanPages > 0) {\n      for (let i = this.page.currentPage - this.options.spanPages; i < this.page.currentPage; i++) {\n        this.range.push(i);\n      }\n      upperSpan = this.options.spanPages;\n    } else {\n      // if not, add as much as you can after it and adjust upper span\n      upperSpan = this.options.spanPages * 2;\n      for (let i = 1; i < this.page.currentPage; i++) {\n        this.range.push(i);\n        upperSpan--;\n      }\n    }\n\n    this.range.push(this.page.currentPage);\n\n    if (this.page.currentPage + upperSpan <= this.page.numberOfPages) {\n      for (let i = this.page.currentPage + 1; i <= this.page.currentPage + upperSpan; i++) {\n        this.range.push(i);\n      }\n    } else {\n      for (let i = this.page.currentPage + 1; i <= this.page.numberOfPages; i++) {\n        this.range.push(i);\n        upperSpan--;\n      }\n\n      if (upperSpan > 0 ) {\n        // something is still left, prepend it to array (only if bigger than 0)\n        while (upperSpan > 0 && this.range[0] - 1 > 0) {\n          this.range.unshift(this.range[0] - 1);\n          upperSpan--;\n        }\n\n      }\n    }\n\n  }\n\n  setPage(page: number) {\n    if (this.page.currentPage !== page) {\n      this.page.currentPage = page;\n      this.calculateRange();\n      this.pageChange.emit(this.page);\n    }\n  }\n\n  previousPage() {\n    if (this.page.currentPage > 1) {\n      this.setPage(this.page.currentPage - 1);\n    }\n  }\n\n  nextPage() {\n    if (this.page.currentPage < this.page.numberOfPages) {\n      this.setPage(this.page.currentPage + 1);\n    }\n  }\n\n  ngDoCheck(): void {\n    if (this.page) {\n      this.calculateRange();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['options'] && changes['options'].currentValue) {\n      this.setOptions();\n    }\n  }\n}\n","import { NgxPaginateComponent } from './paginate.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  exports: [NgxPaginateComponent],\n  declarations: [NgxPaginateComponent]\n})\nexport class NgxPaginateModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}